<section class="truck-list">
  <h2>Truck Fleet</h2>

  <div class="actions" style="margin:12px 0;">
    <button type="button" [routerLink]="['/trucks/new']">+ Novo caminhão</button>
  </div>

  <div *ngIf="isLoading">Carregando caminhões...</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <table *ngIf="!isLoading && (trucks?.length || 0) > 0">
    
    <thead>
      <tr>
        <th>Placa</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Ano</th>
        <th>Preço FIPE</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let truck of trucks">
        <td>{{ truck.licensePlate }}</td>
        <td>{{ truck.brand }}</td>
        <td>{{ truck.model }}</td>
        <td>{{ truck.manufacturingYear }}</td>
        <td>{{ truck.fipePrice | currency:'BRL':'symbol-narrow' }}</td>
        <td>
          <button type="button" (click)="editTruck(truck.id!)">Editar</button>
        </td>
      </tr>
    </tbody>
    
  </table>

  <div *ngIf="!isLoading && (trucks?.length || 0) === 0">Nenhum caminhão cadastrado.</div>
</section>
